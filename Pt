loadstring(game:HttpGet("https://rawscripts.net/raw/Universal-Script-Anti-gameplay-plaused-98021"))()

local TweenService = game:GetService("TweenService")
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local LocalPlayer = Players.LocalPlayer
local PlayerGui = LocalPlayer:WaitForChild("PlayerGui")

--== SISTEMA DE NOTIFICAÇÕES MOBILE EMPILHÁVEIS COM SOM ==--
local function notify(title, text, duration)
	duration = duration or 2
	local mainGui = PlayerGui:FindFirstChild("GhostNotifications")
	if not mainGui then
		mainGui = Instance.new("ScreenGui")
		mainGui.Name = "GhostNotifications"
		mainGui.ResetOnSpawn = false
		mainGui.IgnoreGuiInset = true
		mainGui.Parent = PlayerGui
	end

	local container = mainGui:FindFirstChild("Container")
	if not container then
		container = Instance.new("Frame", mainGui)
		container.Name = "Container"
		container.Size = UDim2.new(0, 270, 0.5, 0)
		container.Position = UDim2.new(1, -280, 0.45, 0)
		container.BackgroundTransparency = 1

		local layout = Instance.new("UIListLayout", container)
		layout.SortOrder = Enum.SortOrder.LayoutOrder
		layout.Padding = UDim.new(0, 5)
		layout.VerticalAlignment = Enum.VerticalAlignment.Bottom
	end

	local frame = Instance.new("Frame")
	frame.Name = "Notification"
	frame.Size = UDim2.new(1, 0, 0, 65)
	frame.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
	frame.BackgroundTransparency = 0.25
	frame.BorderSizePixel = 0
	frame.ClipsDescendants = true
	frame.Parent = container
	Instance.new("UICorner", frame).CornerRadius = UDim.new(0, 10)

	local stroke = Instance.new("UIStroke", frame)
	stroke.Thickness = 1.3
	stroke.Color = Color3.fromRGB(80, 80, 80)

	local titleLabel = Instance.new("TextLabel", frame)
	titleLabel.Size = UDim2.new(1, -20, 0, 20)
	titleLabel.Position = UDim2.new(0, 10, 0, 5)
	titleLabel.Text = title
	titleLabel.TextColor3 = Color3.new(1, 1, 1)
	titleLabel.Font = Enum.Font.GothamBold
	titleLabel.TextSize = 17
	titleLabel.TextXAlignment = Enum.TextXAlignment.Left
	titleLabel.BackgroundTransparency = 1

	local textLabel = Instance.new("TextLabel", frame)
	textLabel.Size = UDim2.new(1, -20, 0, 25)
	textLabel.Position = UDim2.new(0, 10, 0, 27)
	textLabel.Text = text
	textLabel.TextColor3 = Color3.fromRGB(220, 220, 220)
	textLabel.Font = Enum.Font.Gotham
	textLabel.TextSize = 15
	textLabel.TextWrapped = true
	textLabel.TextXAlignment = Enum.TextXAlignment.Left
	textLabel.BackgroundTransparency = 1

	local timeLabel = Instance.new("TextLabel", frame)
	timeLabel.Size = UDim2.new(1, -10, 0, 15)
	timeLabel.Position = UDim2.new(0, 0, 1, -15)
	timeLabel.Text = "(" .. duration .. "s)"
	timeLabel.TextColor3 = Color3.fromRGB(160, 160, 160)
	timeLabel.Font = Enum.Font.Code
	timeLabel.TextSize = 13
	timeLabel.TextXAlignment = Enum.TextXAlignment.Right
	timeLabel.BackgroundTransparency = 1

	--== SOM DA NOTIFICAÇÃO ==--
	local sound = Instance.new("Sound", frame)
	sound.SoundId = "rbxassetid://18595195017"
	sound.Volume = 1
	sound.PlayOnRemove = true
	sound:Destroy() -- tocará instantaneamente ao remover

	--== ANIMAÇÃO DE ENTRADA ==--
	frame.Position = UDim2.new(1, 280, 0, 0)
	frame.BackgroundTransparency = 1
	TweenService:Create(frame, TweenInfo.new(0.35, Enum.EasingStyle.Back, Enum.EasingDirection.Out), {
		Position = UDim2.new(0, 0, 0, 0),
		BackgroundTransparency = 0.25
	}):Play()

	task.spawn(function()
		local start = tick()
		while tick() - start < duration and frame.Parent do
			local remaining = math.ceil(duration - (tick() - start))
			timeLabel.Text = "(" .. remaining .. "s)"
			RunService.RenderStepped:Wait()
		end
	end)

	--== SAÍDA AUTOMÁTICA ==--
	task.delay(duration, function()
		if frame and frame.Parent then
			local tweenOut = TweenService:Create(frame, TweenInfo.new(0.3, Enum.EasingStyle.Back, Enum.EasingDirection.In), {
				Position = UDim2.new(1, 280, 0, 0),
				BackgroundTransparency = 1
			})
			tweenOut:Play()
			tweenOut.Completed:Wait()
			frame:Destroy()
		end
	end)
end

notify("warn", "script by kit_cynALT", 1)
wait(1)
notify("warn", "feliz dias dos namorados", 1)

-- // Ghost UI Library - Complete LayoutOrder Version \\ --

local TweenService = game:GetService("TweenService")
local CoreGui = game:GetService("CoreGui")

local Gui = Instance.new("ScreenGui", CoreGui)
Gui.Name = "GhostUILibrary"
Gui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

--== Função de animação com UIScale ==--
local function addClickAnim(instance)
	local scale = Instance.new("UIScale", instance)
	local function clickEffect()
		local down = TweenService:Create(scale, TweenInfo.new(0.1, Enum.EasingStyle.Quad), {Scale = 0.95})
		local up = TweenService:Create(scale, TweenInfo.new(0.2, Enum.EasingStyle.Back), {Scale = 1})
		down:Play()
		down.Completed:Connect(function() up:Play() end)
	end
	return clickEffect
end

--== BOTÃO DE ABRIR HUB ==--
local OpenButton = Instance.new("TextButton", Gui)
OpenButton.Size = UDim2.new(0, 130, 0, 45)
OpenButton.Position = UDim2.new(0, 20, 0.5, -22)
OpenButton.BackgroundColor3 = Color3.fromRGB(180, 0, 0)
OpenButton.Text = "> open_hub "
OpenButton.TextColor3 = Color3.fromRGB(255, 255, 255)
OpenButton.Font = Enum.Font.Code
OpenButton.TextSize = 20
OpenButton.BorderSizePixel = 0
OpenButton.AutoButtonColor = false
OpenButton.Draggable = true
Instance.new("UICorner", OpenButton).CornerRadius = UDim.new(0, 15)
local Gradient = Instance.new("UIGradient", OpenButton)
Gradient.Color = ColorSequence.new{
	ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 80, 80)),
	ColorSequenceKeypoint.new(1, Color3.fromRGB(180, 0, 0))
}
Gradient.Rotation = 90

local openClick = addClickAnim(OpenButton)
OpenButton.MouseEnter:Connect(function()
	TweenService:Create(OpenButton, TweenInfo.new(0.2), {BackgroundColor3 = Color3.fromRGB(255, 60, 60)}):Play()
end)
OpenButton.MouseLeave:Connect(function()
	TweenService:Create(OpenButton, TweenInfo.new(0.2), {BackgroundColor3 = Color3.fromRGB(180, 0, 0)}):Play()
end)

--== FRAME PRINCIPAL ==--
local MainFrame = Instance.new("Frame", Gui)
MainFrame.Size = UDim2.new(0, 520, 0, 340)
MainFrame.Position = UDim2.new(0.5, -260, 0.5, -170)
MainFrame.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
MainFrame.BorderSizePixel = 0
MainFrame.Visible = false
MainFrame.Active = true
MainFrame.Draggable = true
Instance.new("UICorner", MainFrame).CornerRadius = UDim.new(0, 25)

local Title = Instance.new("TextLabel", MainFrame)
Title.Size = UDim2.new(1, 0, 0, 35)
Title.BackgroundColor3 = Color3.fromRGB(120, 0, 0)
Title.Text = "Havens hub"
Title.TextColor3 = Color3.new(1, 1, 1)
Title.Font = Enum.Font.SourceSansBold
Title.TextSize = 22
Instance.new("UICorner", Title).CornerRadius = UDim.new(0, 10)

local CloseButton = Instance.new("TextButton", Title)
CloseButton.Size = UDim2.new(0, 60, 0, 30)
CloseButton.Position = UDim2.new(1, -65, 0, 3)
CloseButton.BackgroundColor3 = Color3.fromRGB(90, 0, 0)
CloseButton.Text = "fechar"
CloseButton.TextColor3 = Color3.new(1, 1, 1)
CloseButton.Font = Enum.Font.SourceSansBold
CloseButton.TextSize = 18
Instance.new("UICorner", CloseButton).CornerRadius = UDim.new(0, 8)
local closeClick = addClickAnim(CloseButton)
CloseButton.MouseButton1Click:Connect(function()
	closeClick()
	MainFrame.Visible = false
end)

--== TABS ==--
local TabsFrame = Instance.new("ScrollingFrame", MainFrame)
TabsFrame.Size = UDim2.new(0, 130, 1, -35)
TabsFrame.Position = UDim2.new(0, 0, 0, 35)
TabsFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
TabsFrame.ScrollBarThickness = 4
Instance.new("UICorner", TabsFrame).CornerRadius = UDim.new(0, 10)

local ContentFrame = Instance.new("Frame", MainFrame)
ContentFrame.Size = UDim2.new(1, -140, 1, -40)
ContentFrame.Position = UDim2.new(0, 135, 0, 40)
ContentFrame.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
Instance.new("UICorner", ContentFrame).CornerRadius = UDim.new(0, 10)

local TabList = Instance.new("UIListLayout", TabsFrame)
TabList.Padding = UDim.new(0, 5)

--== SISTEMA DE TABS ==--
local function createTab(name)
	local TabButton = Instance.new("TextButton", TabsFrame)
	TabButton.Size = UDim2.new(1, -10, 0, 30)
	TabButton.BackgroundColor3 = Color3.fromRGB(50, 0, 0)
	TabButton.Text = name
	TabButton.TextColor3 = Color3.new(1, 1, 1)
	TabButton.Font = Enum.Font.SourceSansBold
	TabButton.TextSize = 18
	Instance.new("UICorner", TabButton).CornerRadius = UDim.new(0, 10)
	local tabClick = addClickAnim(TabButton)

	local TabContent = Instance.new("ScrollingFrame", ContentFrame)
	TabContent.Size = UDim2.new(1, -10, 1, -10)
	TabContent.Position = UDim2.new(0, 5, 0, 5)
	TabContent.CanvasSize = UDim2.new(0, 0, 0, 0)
	TabContent.ScrollBarThickness = 5
	TabContent.Visible = false
	TabContent.BackgroundTransparency = 1

	local ListLayout = Instance.new("UIListLayout", TabContent)
	ListLayout.Padding = UDim.new(0, 10)
	ListLayout.FillDirection = Enum.FillDirection.Vertical
	ListLayout.SortOrder = Enum.SortOrder.LayoutOrder
	ListLayout:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
		TabContent.CanvasSize = UDim2.new(0, 0, 0, ListLayout.AbsoluteContentSize.Y + 10)
	end)

	local elementIndex = 0 -- contador de ordem

	TabButton.MouseButton1Click:Connect(function()
		tabClick()
		for _, v in pairs(ContentFrame:GetChildren()) do
			if v:IsA("ScrollingFrame") then v.Visible = false end
		end
		for _, v in pairs(TabsFrame:GetChildren()) do
			if v:IsA("TextButton") then
				TweenService:Create(v, TweenInfo.new(0.3), {BackgroundColor3 = Color3.fromRGB(50, 0, 0)}):Play()
			end
		end
		TweenService:Create(TabButton, TweenInfo.new(0.3), {BackgroundColor3 = Color3.fromRGB(150, 0, 0)}):Play()
		TabContent.Visible = true
	end)

	local function AddSection(title)
		elementIndex = elementIndex + 1
		local label = Instance.new("TextLabel", TabContent)
		label.Size = UDim2.new(1, -10, 0, 30)
		label.BackgroundColor3 = Color3.fromRGB(70, 0, 0)
		label.Text = title
		label.TextColor3 = Color3.new(1, 1, 1)
		label.Font = Enum.Font.SourceSansBold
		label.TextSize = 18
		label.TextXAlignment = Enum.TextXAlignment.Center
		Instance.new("UICorner", label).CornerRadius = UDim.new(0, 10)
		label.LayoutOrder = elementIndex
		return label
	end

	local function AddButton(title, callback)
		elementIndex = elementIndex + 1
		local btn = Instance.new("TextButton", TabContent)
		btn.Size = UDim2.new(1, -10, 0, 30)
		btn.BackgroundColor3 = Color3.fromRGB(90, 0, 0)
		btn.Text = title
		btn.TextColor3 = Color3.new(1, 1, 1)
		btn.Font = Enum.Font.SourceSans
		btn.TextSize = 18
		Instance.new("UICorner", btn).CornerRadius = UDim.new(0, 8)
		btn.LayoutOrder = elementIndex
		local btnClick = addClickAnim(btn)
		btn.MouseButton1Click:Connect(function()
			btnClick()
			pcall(callback)
		end)
		return btn
	end

	local function AddToggle(title, default, callback)
		elementIndex = elementIndex + 1
		local toggle = Instance.new("TextButton", TabContent)
		toggle.Size = UDim2.new(1, -10, 0, 30)
		toggle.BackgroundColor3 = default and Color3.fromRGB(150, 0, 0) or Color3.fromRGB(90, 0, 0)
		toggle.TextColor3 = Color3.new(1, 1, 1)
		toggle.Font = Enum.Font.SourceSans
		toggle.TextSize = 18
		Instance.new("UICorner", toggle).CornerRadius = UDim.new(0, 8)
		toggle.LayoutOrder = elementIndex
		local toggled = default
		toggle.Text = title .. " : " .. (toggled and "ON" or "OFF")
		local togClick = addClickAnim(toggle)
		toggle.MouseButton1Click:Connect(function()
			togClick()
			toggled = not toggled
			toggle.BackgroundColor3 = toggled and Color3.fromRGB(150, 0, 0) or Color3.fromRGB(90, 0, 0)
			toggle.Text = title .. " : " .. (toggled and "ON" or "OFF")
			pcall(callback, toggled)
		end)
		return toggle
	end

	local function AddTextBox(placeholder, callback)
		elementIndex = elementIndex + 1
		local box = Instance.new("TextBox", TabContent)
		box.Size = UDim2.new(1, -10, 0, 30)
		box.BackgroundColor3 = Color3.fromRGB(60, 0, 0)
		box.PlaceholderText = placeholder
		box.Text = ""
		box.TextColor3 = Color3.new(1, 1, 1)
		box.Font = Enum.Font.SourceSans
		box.TextSize = 18
		Instance.new("UICorner", box).CornerRadius = UDim.new(0, 8)
		box.LayoutOrder = elementIndex
		local boxClick = addClickAnim(box)
		box.FocusLost:Connect(function(enter)
			if enter then
				boxClick()
				pcall(callback, box.Text)
			end
		end)
		return box
	end

	return {
		AddSection = AddSection,
		AddButton = AddButton,
		AddToggle = AddToggle,
		AddTextBox = AddTextBox,
		Content = TabContent
	}
end

--== FUNÇÃO DE TROCAR TÍTULO ==--
local function SetTitle(newTitle)
	Title.Text = newTitle
end

--== ABRIR / FECHAR HUB ==--
OpenButton.MouseButton1Click:Connect(function()
	openClick()
	MainFrame.Visible = not MainFrame.Visible
end)



local ConfigTab = createTab("Configs")

ConfigTab.AddButton("get lora skin (free)", function()

local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local hrp = character:WaitForChild("HumanoidRootPart")

local target = workspace.lobby.Secrets.LORA
local clickDetector = target:WaitForChild("ClickDetector")


hrp.CFrame = target.CFrame + Vector3.new(0, 1, 0)


fireclickdetector(clickDetector)


end)


ConfigTab.AddSection("configs")

ConfigTab.AddButton("ver FPS", function()
local RunService = game:GetService("RunService")
local fps = math.floor(1 / RunService.RenderStepped:Wait())
notify("System", "FPS: " .. fps, 3)
end)




ConfigTab.AddToggle("ver FPS jogo e MS", false, function(state)
local RunService = game:GetService("RunService")
local CoreGui = game:GetService("CoreGui")
local UserInputService = game:GetService("UserInputService")

local fpsGui = CoreGui:FindFirstChild("GhostFPSGui")
local running = state

if state then
    if not fpsGui then
        fpsGui = Instance.new("ScreenGui", CoreGui)
        fpsGui.Name = "GhostFPSGui"

        -- GUI principal
        local mainFrame = Instance.new("Frame", fpsGui)
        mainFrame.Name = "MainFrame"
        mainFrame.Size = UDim2.new(0, 180, 0, 50)
        mainFrame.Position = UDim2.new(0, 10, 0, 10)
        mainFrame.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
        mainFrame.BorderSizePixel = 0
        Instance.new("UICorner", mainFrame).CornerRadius = UDim.new(0, 6)

        -- Barra de arrasto
        local dragBar = Instance.new("Frame", mainFrame)
        dragBar.Name = "DragBar"
        dragBar.Size = UDim2.new(1, 0, 0, 20)
        dragBar.BackgroundColor3 = Color3.fromRGB(50, 0, 0)
        dragBar.BorderSizePixel = 0
        Instance.new("UICorner", dragBar).CornerRadius = UDim.new(0, 6)

        local dragLabel = Instance.new("TextLabel", dragBar)
        dragLabel.Size = UDim2.new(1, 0, 1, 0)
        dragLabel.BackgroundTransparency = 1
        dragLabel.Font = Enum.Font.SourceSansBold
        dragLabel.TextColor3 = Color3.new(1, 1, 1)
        dragLabel.TextSize = 16
        dragLabel.Text = "Drag"

        -- Barra de status FPS/MS
        local infoBar = Instance.new("TextLabel", mainFrame)
        infoBar.Name = "InfoBar"
        infoBar.Size = UDim2.new(1, 0, 0, 25)
        infoBar.Position = UDim2.new(0, 0, 0, 25)
        infoBar.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
        infoBar.TextColor3 = Color3.new(1, 1, 1)
        infoBar.Font = Enum.Font.Code
        infoBar.TextSize = 15
        infoBar.Text = "FPS: 0 | MS: 0"
        Instance.new("UICorner", infoBar).CornerRadius = UDim.new(0, 6)

        -- Sistema de arrastar
        local dragging, dragInput, dragStart, startPos

        local function update(input)
            local delta = input.Position - dragStart
            mainFrame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X,
                startPos.Y.Scale, startPos.Y.Offset + delta.Y)
        end

        dragBar.InputBegan:Connect(function(input)
            if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
                dragging = true
                dragStart = input.Position
                startPos = mainFrame.Position
                input.Changed:Connect(function()
                    if input.UserInputState == Enum.UserInputState.End then
                        dragging = false
                    end
                end)
            end
        end)

        dragBar.InputChanged:Connect(function(input)
            if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
                dragInput = input
            end
        end)

        UserInputService.InputChanged:Connect(function(input)
            if input == dragInput and dragging then
                update(input)
            end
        end)

        -- Sistema FPS / MS
        task.spawn(function()
            local last = tick()
            local frameCount = 0
            while running and fpsGui and fpsGui.Parent do
                frameCount += 1
                local now = tick()
                if now - last >= 1 then
                    local fps = frameCount
                    frameCount = 0
                    last = now
                    local delta = RunService.RenderStepped:Wait()
                    local ms = math.floor(delta * 1000)
                    infoBar.Text = "FPS: " .. fps .. " | MS: " .. ms
                end
                RunService.RenderStepped:Wait()
            end
        end)
    end
else
    if fpsGui then
        fpsGui:Destroy()
    end
end

end)

--// VIEW BODY
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

local viewBodyActive = false
local highlights = {}

local function createHighlight(part)
local highlight = Instance.new("BoxHandleAdornment")
highlight.Adornee = part
highlight.Color3 = Color3.new(1, 1, 0)
highlight.Transparency = 0.8
highlight.AlwaysOnTop = true
highlight.ZIndex = 10
highlight.Size = part.Size + Vector3.new(0.1, 0.1, 0.1)
highlight.Parent = part
return highlight
end

local function enableViewBody()
local char = LocalPlayer.Character
if not char then return end
for _, part in ipairs(char:GetChildren()) do
if part:IsA("BasePart") then
local h = createHighlight(part)
table.insert(highlights, h)
end
end
end

local function disableViewBody()
for _, h in ipairs(highlights) do
if h and h.Parent then
h:Destroy()
end
end
highlights = {}
end

ConfigTab.AddToggle("ver corpo seu", false, function(state)
viewBodyActive = state
if state then
enableViewBody()
else
disableViewBody()
end
end)

LocalPlayer.CharacterAdded:Connect(function()
task.wait(0.5)
if viewBodyActive then
enableViewBody()
end
end)

-- script create BY ghost

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local Stats = game:GetService("Stats")
local LocalPlayer = Players.LocalPlayer
LocalPlayer.Archivable = true

local ghostActive = false
local Configuration = {
Enabled = true,
Parts = {
'HumanoidRootPart', 'Head', 'Left Arm', 'Right Arm', 'Left Leg', 'Right Leg',
'LeftUpperArm', 'RightUpperArm', 'LeftLowerArm', 'RightLowerArm',
'LeftHand', 'RightHand', 'LeftUpperLeg', 'RightUpperLeg',
'LeftLowerLeg', 'RightLowerLeg', 'LeftFoot', 'RightFoot'
},
Timing = {
MinDelay = 0.02,
MaxDelay = 0.12,
MaxDistance = 5,
PingSmoothing = 0.12,
DefaultPing = 120
}
}

getgenv().ghostrgb = true

local GhostManager = {
Parts = {},
FrameHistory = {},
Character = nil
}

function GhostManager:InitializeGhostPart(originalPart)
local ghostPart = Instance.new('Part')
ghostPart.Name = originalPart.Name .. '_Ghost'
ghostPart.Size = originalPart.Size
ghostPart.Anchored = true
ghostPart.CanCollide = false
ghostPart.Transparency = 1
ghostPart.CFrame = originalPart.CFrame
ghostPart.Parent = workspace

local selectionBox = Instance.new('SelectionBox')
selectionBox.Adornee = ghostPart
selectionBox.LineThickness = 0.01
selectionBox.Parent = ghostPart

return {
    Original = originalPart,
    Ghost = ghostPart,
    Box = selectionBox
}

end

function GhostManager:CalculateCurrentPing()
local networkStats = Stats.Network
if not networkStats then return Configuration.Timing.DefaultPing end

local pingStat = networkStats.ServerStatsItem['Data Ping'] or networkStats.ServerStatsItem['Data Ping (ms)']
if not pingStat then return Configuration.Timing.DefaultPing end

return tonumber(pingStat:GetValue()) or Configuration.Timing.DefaultPing

end

function GhostManager:UpdateTimingDynamic(ping)
local t = Configuration.Timing
local pingFactor = math.clamp(ping / 200, 0.5, 3)

t.MinDelay = math.clamp(0.02 * pingFactor, 0.02, 0.08)
t.MaxDelay = math.clamp(0.08 * pingFactor, 0.04, 0.18)
t.MaxDistance = math.clamp(3.5 * pingFactor, 2, 8)
t.PingSmoothing = math.clamp(0.12 / pingFactor, 0.05, 0.2)

end

function GhostManager:ApplyColorEffect(selectionBox)
if getgenv().ghostrgb then
selectionBox.Color3 = Color3.fromHSV((tick() % 5) / 5, 1, 1)
else
selectionBox.Color3 = Color3.new(1, 1, 1)
end
end

function GhostManager:InitializeCharacter()
self.Character = LocalPlayer.Character
if not self.Character then return end

self:CleanupExistingGhosts()

local rootPart = self.Character:FindFirstChild('HumanoidRootPart')
if not rootPart then return end

self.Parts = {}
for _, partName in ipairs(Configuration.Parts) do
    local characterPart = self.Character:FindFirstChild(partName)
    if characterPart and characterPart:IsA('BasePart') then
        self.Parts[partName] = self:InitializeGhostPart(characterPart)
    end
end

end

function GhostManager:CleanupExistingGhosts()
for _, child in ipairs(workspace:GetChildren()) do
if child:IsA('Part') and child.Name:match('_Ghost$') then
child:Destroy()
end
end
end

function GhostManager:CaptureFrameData()
if not self.Character then return end

local rootPart = self.Character:FindFirstChild('HumanoidRootPart')
if not rootPart then return end

local relativeTransforms = {}
for partName, ghostData in pairs(self.Parts) do
    if ghostData.Original and ghostData.Original.Parent then
        relativeTransforms[partName] = rootPart.CFrame:ToObjectSpace(ghostData.Original.CFrame)
    end
end

local currentTime = tick()
table.insert(self.FrameHistory, {
    Timestamp = currentTime,
    Transform = rootPart.CFrame,
    Position = rootPart.Position,
    Velocity = rootPart.Velocity,
    RelativeTransforms = relativeTransforms
})

if #self.FrameHistory > 300 then
    for _ = 1, 80 do table.remove(self.FrameHistory, 1) end
end

end

function GhostManager:UpdateGhostParts(deltaTime)
if not self.Character then return end

local rootPart = self.Character:FindFirstChild('HumanoidRootPart')
if not rootPart then return end

local currentPing = self:CalculateCurrentPing()
self:UpdateTimingDynamic(currentPing)

local t = Configuration.Timing
t.DefaultPing = currentPing * t.PingSmoothing + t.DefaultPing * (1 - t.PingSmoothing)

local targetDelay = math.clamp(t.DefaultPing / 2000, t.MinDelay, t.MaxDelay)
local targetFrame = self:FindTargetFrame(tick() - targetDelay)
if not targetFrame then return end

local timeDifference = math.clamp(tick() - targetFrame.Timestamp, 0, 0.06)
local predictedPosition = targetFrame.Position + targetFrame.Velocity * timeDifference * 0.9
local predictedTransform = CFrame.new(predictedPosition) * (targetFrame.Transform - targetFrame.Transform.Position)

local stabilityFactor = math.clamp(1 - math.abs(currentPing - t.DefaultPing) / 300, 0.25, 1)

for _, ghostData in pairs(self.Parts) do
    self:UpdateSingleGhostPart(ghostData, targetFrame, predictedTransform, deltaTime, stabilityFactor)
end

end

function GhostManager:FindTargetFrame(targetTime)
for i = #self.FrameHistory, 1, -1 do
if self.FrameHistory[i].Timestamp <= targetTime then
return self.FrameHistory[i]
end
end
return self.FrameHistory[1]
end

function GhostManager:UpdateSingleGhostPart(ghostData, targetFrame, predictedTransform, deltaTime, stability)
local ghostPart = ghostData.Ghost
local selectionBox = ghostData.Box
if not ghostPart then return end

local relativeTransform = targetFrame.RelativeTransforms[ghostData.Original.Name]
local targetCFrame = relativeTransform and predictedTransform * relativeTransform or 
                    (ghostData.Original and ghostData.Original.CFrame or ghostPart.CFrame)

local positionOffset = (targetCFrame.Position - predictedTransform.Position).Magnitude
if positionOffset > Configuration.Timing.MaxDistance then
    local direction = (targetCFrame.Position - predictedTransform.Position).Unit
    local rotationX, rotationY, rotationZ = targetCFrame:ToEulerAnglesXYZ()
    targetCFrame = CFrame.new(predictedTransform.Position + direction * Configuration.Timing.MaxDistance) * 
                  CFrame.Angles(rotationX, rotationY, rotationZ)
end

local interpolationWeight = math.clamp(deltaTime * 18 * stability, 0, 1)
ghostPart.CFrame = ghostPart.CFrame:Lerp(targetCFrame, interpolationWeight)

self:ApplyColorEffect(selectionBox)

end

ConfigTab.AddToggle("View Position In Server", false, function(state)
ghostActive = state
if state then
GhostManager:InitializeCharacter()
RunService.Heartbeat:Connect(function(deltaTime)
if ghostActive then
GhostManager:CaptureFrameData()
GhostManager:UpdateGhostParts(deltaTime)
end
end)
LocalPlayer.CharacterAdded:Connect(function()
task.wait(0.5)
if ghostActive then
GhostManager:InitializeCharacter()
end
end)
else
ghostActive = false
GhostManager:CleanupExistingGhosts()
end
end)


ConfigTab.AddButton("destroy a interface", function() ScreenGui:Destroy() end)



ConfigTab.AddSection("server")

ConfigTab.AddButton("destruir Tabela de status", function()
-- script create BY ghost
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

local function removeLeaderstats(player)
	if not player then return end
	local ls = player:FindFirstChild("leaderstats")
	if ls then ls:Destroy() end
end

for _, p in ipairs(Players:GetPlayers()) do
	removeLeaderstats(p)
end

Players.PlayerAdded:Connect(function(p)
	spawn(function()
		local ok, _ = pcall(function()
			local s = p:WaitForChild("leaderstats", 5)
			if s then s:Destroy() end
		end)
	end)
end)



-- remove any leaderboard-like GUI locally
local function destroyGuiIfLeaderboard(g)
	if not g or not g.Name then return end
	local name = g.Name:lower()
	if name:find("leader") or name:find("playerlist") or name:find("scoreboard") then
		pcall(function() g:Destroy() end)
	end
end

local playerGui = LocalPlayer:WaitForChild("PlayerGui")
for _, g in ipairs(playerGui:GetChildren()) do
	destroyGuiIfLeaderboard(g)
end

playerGui.ChildAdded:Connect(function(c)
	destroyGuiIfLeaderboard(c)
end)
end)

ConfigTab.AddButton("morrer", function()
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("Humanoid") then
LocalPlayer.Character.Humanoid.Health = 0
end
end)

ConfigTab.AddButton("reentrar", function()
local TeleportService = game:GetService("TeleportService")
TeleportService:Teleport(game.PlaceId)
end)

ConfigTab.AddButton("server hop ", function()


local TeleportService = game:GetService("TeleportService")
local HttpService = game:GetService("HttpService")
local PlaceId = game.PlaceId
local JobId = game.JobId

local function serverHop()
    -- URL da API do Roblox para listar servidores do jogo
    local url = "https://games.roblox.com/v1/games/" .. PlaceId .. "/servers/Public?sortOrder=Asc&limit=100"
    
    local success, result = pcall(function()
        return HttpService:JSONDecode(game:HttpGet(url))
    end)

    if success and result.data then
        for _, server in ipairs(result.data) do
            -- Verifica se o servidor tem espaço e não é o servidor atual
            if server.playing < server.maxPlayers and server.id ~= JobId then
                TeleportService:TeleportToPlaceInstance(PlaceId, server.id)
                return
            end
        end
    end
    print("Nenhum servidor alternativo encontrado.")
end


serverHop()


end)



ConfigTab.Content.Visible = true





local HomerTab = createTab("Homer")


HomerTab.AddSection("config esp")

--== VARIÁVEIS ==--
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local LocalPlayer = Players.LocalPlayer

local espActive = false
local espMode = "ALL"
local showNickname = false
local showName = false
local showDistance = false
local showTeam = false

--== BOTÕES E TOGGLES ==--
HomerTab.AddToggle("Ver todos / ESP", false, function(v)
	espActive = v
	if not v then
		for _, p in ipairs(Players:GetPlayers()) do
			if p ~= LocalPlayer then
				local char = p.Character
				if char then
					local h = char:FindFirstChild("AuraLine")
					if h then h:Destroy() end
					local hrp = char:FindFirstChild("HumanoidRootPart")
					if hrp and hrp:FindFirstChild("NameTag") then
						hrp.NameTag:Destroy()
					end
				end
			end
		end
	end
end)

HomerTab.AddToggle("Show Nickname", false, function(v)
	showNickname = v
end)

HomerTab.AddToggle("Show Name", false, function(v)
	showName = v
end)

HomerTab.AddToggle("Show Distance", false, function(v)
	showDistance = v
end)

HomerTab.AddToggle("Show Team", false, function(v)
	showTeam = v
end)

--== FUNÇÕES ==--
local function getTeamColor(p)
	if p.Team and p.Team.TeamColor then
		return p.Team.TeamColor.Color
	end
	return Color3.fromRGB(255, 255, 255)
end

local function createESP(p)
	if not p.Character or not p.Character:FindFirstChild("HumanoidRootPart") then return end
	local char = p.Character
	local hrp = char:FindFirstChild("HumanoidRootPart")

	-- Highlight (outline)
	local highlight = Instance.new("Highlight")
	highlight.Name = "AuraLine"
	highlight.FillTransparency = 1
	highlight.OutlineTransparency = 0.2
	highlight.OutlineColor = getTeamColor(p)
	highlight.Parent = char

	-- Billboard (textos)
	local billboard = Instance.new("BillboardGui")
	billboard.Name = "NameTag"
	billboard.AlwaysOnTop = true
	billboard.Size = UDim2.new(0, 200, 0, 60)
	billboard.StudsOffset = Vector3.new(0, 3, 0)
	billboard.MaxDistance = 250
	billboard.Parent = hrp

	local nameLabel = Instance.new("TextLabel")
	nameLabel.Name = "NameLabel"
	nameLabel.BackgroundTransparency = 1
	nameLabel.Size = UDim2.new(1, 0, 0.33, 0)
	nameLabel.Position = UDim2.new(0, 0, 0, 0)
	nameLabel.Text = ""
	nameLabel.TextColor3 = getTeamColor(p)
	nameLabel.TextStrokeTransparency = 0.5
	nameLabel.Font = Enum.Font.SourceSansBold
	nameLabel.TextSize = 14
	nameLabel.Parent = billboard

	local distLabel = Instance.new("TextLabel")
	distLabel.Name = "DistLabel"
	distLabel.BackgroundTransparency = 1
	distLabel.Size = UDim2.new(1, 0, 0.33, 0)
	distLabel.Position = UDim2.new(0, 0, 0.33, 0)
	distLabel.Text = ""
	distLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
	distLabel.TextStrokeTransparency = 0.5
	distLabel.Font = Enum.Font.SourceSans
	distLabel.TextSize = 13
	distLabel.Parent = billboard

	local teamLabel = Instance.new("TextLabel")
	teamLabel.Name = "TeamLabel"
	teamLabel.BackgroundTransparency = 1
	teamLabel.Size = UDim2.new(1, 0, 0.33, 0)
	teamLabel.Position = UDim2.new(0, 0, 0.66, 0)
	teamLabel.Text = ""
	teamLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
	teamLabel.TextStrokeTransparency = 0.5
	teamLabel.Font = Enum.Font.SourceSans
	teamLabel.TextSize = 13
	teamLabel.Parent = billboard
end

local function removeESP(p)
	if p.Character then
		local h = p.Character:FindFirstChild("AuraLine")
		if h then h:Destroy() end
		local hrp = p.Character:FindFirstChild("HumanoidRootPart")
		if hrp and hrp:FindFirstChild("NameTag") then
			hrp.NameTag:Destroy()
		end
	end
end

local function updateESP()
	if not espActive then return end
	for _, p in ipairs(Players:GetPlayers()) do
		if p ~= LocalPlayer then
			local allowed = (espMode == "ALL")
				or (espMode == "Barts" and p.Team and p.Team.Name == "Bart")
				or (espMode == "Homer" and p.Team and p.Team.Name == "Homer")

			if allowed and p.Character and p.Character:FindFirstChild("HumanoidRootPart") then
				local hrp = p.Character.HumanoidRootPart
				local highlight = p.Character:FindFirstChild("AuraLine")
				if not highlight then
					createESP(p)
				end

				local billboard = hrp:FindFirstChild("NameTag")
				if billboard then
					local nameLabel = billboard:FindFirstChild("NameLabel")
					local distLabel = billboard:FindFirstChild("DistLabel")
					local teamLabel = billboard:FindFirstChild("TeamLabel")
					local color = getTeamColor(p)
					if highlight then
						highlight.OutlineColor = color
					end

					if nameLabel then
						local text = ""
						if showNickname then
							text = text .. (p.DisplayName or p.Name)
						end
						if showName and p.DisplayName and p.DisplayName ~= p.Name then
							if text ~= "" then
								text = text .. " (" .. p.Name .. ")"
							else
								text = p.Name
							end
						end
						nameLabel.Text = text
						nameLabel.TextColor3 = color
					end

					local root = LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
					if distLabel then
						if showDistance and root then
							local dist = math.floor((root.Position - hrp.Position).Magnitude)
							distLabel.Text = "[" .. dist .. " Studs]"
						else
							distLabel.Text = ""
						end
					end

					if teamLabel then
						if showTeam then
							teamLabel.Text = p.Team and p.Team.Name or "No Team"
						else
							teamLabel.Text = ""
						end
					end
				end
			else
				removeESP(p)
			end
		end
	end
end

local function onCharacterAdded(p, char)
	task.wait(0.3)
	if espActive then
		createESP(p)
	end
end

local function setupPlayer(p)
	p.CharacterAdded:Connect(function(char)
		onCharacterAdded(p, char)
	end)
	p:GetPropertyChangedSignal("Team"):Connect(function()
		removeESP(p)
	end)
end

for _, p in ipairs(Players:GetPlayers()) do
	if p ~= LocalPlayer then
		setupPlayer(p)
	end
end

Players.PlayerAdded:Connect(setupPlayer)
Players.PlayerRemoving:Connect(removeESP)

RunService.RenderStepped:Connect(updateESP)

HomerTab.AddSection(" outros")

--// VIEW HITBOX ALL PLAYERS (AUTO UPDATE)
local Players = game:GetService("Players")

local viewBodyActive = false
local highlights = {}

local function createHighlight(part)
    local highlight = Instance.new("BoxHandleAdornment")
    highlight.Adornee = part
    highlight.Color3 = Color3.new(1, 1, 0)
    highlight.Transparency = 0.8
    highlight.AlwaysOnTop = true
    highlight.ZIndex = 10
    highlight.Size = part.Size + Vector3.new(0.1, 0.1, 0.1)
    highlight.Parent = part
    return highlight
end

local function applyHighlightsToCharacter(character)
    for _, part in ipairs(character:GetChildren()) do
        if part:IsA("BasePart") and not highlights[part] then
            local h = createHighlight(part)
            highlights[part] = h
        end
    end
end

local function enableLoop()
    task.spawn(function()
        while viewBodyActive do
            for _, player in ipairs(Players:GetPlayers()) do
                if player.Character then
                    applyHighlightsToCharacter(player.Character)
                end
            end
            task.wait(1)
        end
    end)
end

local function disableAllHighlights()
    for part, h in pairs(highlights) do
        if h and h.Parent then
            h:Destroy()
        end
    end
    highlights = {}
end

HomerTab.AddToggle("ver Hitbox dos jogadores", false, function(state)
    viewBodyActive = state
    if state then
        enableLoop()
    else
        disableAllHighlights()
    end
end)



--== AUTO KILL ==--
local autoKill = false

local function autoKillLoop()
task.spawn(function()
while autoKill do
local myTeam = LocalPlayer.Team
if not myTeam or myTeam.Name:sub(1,1):lower() ~= "h" then
autoKill = false
notify("System","You are not Homer. Please wait to be able to use it.")
break
end

    local myChar = LocalPlayer.Character
    if not myChar or not myChar:FindFirstChild("Torso") then continue end
    local oldPos = myChar.Torso.CFrame

    for _, p in ipairs(Players:GetPlayers()) do
        if p ~= LocalPlayer and p.Team and p.Team.Name:sub(1,1):lower() == "b" and p.Character and p.Character:FindFirstChild("Torso") then
            local name = string.lower(p.Name)
            if name ~= "packj0" and name ~= "kit_cynalt" and name ~= "bk_faxbr" then
                myChar.Torso.CFrame = CFrame.new(p.Character.Torso.Position + Vector3.new(0,1,0))
                task.wait(0.1)
            end
        end
    end

    if myChar and myChar:FindFirstChild("Torso") then
        myChar.Torso.CFrame = oldPos
    end
    task.wait(0.5)
end

end)

end

--== KILL ALL ==--
local function killAll()
local myChar = LocalPlayer.Character
if not myChar or not myChar:FindFirstChild("Torso") then return end
local oldPos = myChar.Torso.CFrame

for _, p in ipairs(Players:GetPlayers()) do
if p ~= LocalPlayer and p.Team and p.Team.Name:sub(1,1):lower() == "b" and p.Character and p.Character:FindFirstChild("Torso") then
local name = string.lower(p.Name)
if name ~= "packj0" and name ~= "kit_cynalt" and name ~= "bk_faxbr" then
myChar.Torso.CFrame = CFrame.new(p.Character.Torso.Position + Vector3.new(0,1,0))
task.wait(0.1)
end
end
end

myChar.Torso.CFrame = oldPos
notify("System","sucess")

end

--== KILL RANDOM ==--
local function killRandom()
local enemies = {}
for _, p in ipairs(Players:GetPlayers()) do
if p ~= LocalPlayer and p.Team and LocalPlayer.Team and p.Team.Name:sub(1,1):lower() == "b" and LocalPlayer.Team.Name:sub(1,1):lower() == "h" then
local name = string.lower(p.Name)
if name ~= "packj0" and name ~= "kit_cynalt" and name ~= "bk_faxbr" then
table.insert(enemies, p)
end
end
end
if #enemies == 0 then notify("System","nenhum Bart Achado.") return end

local target = enemies[math.random(1,#enemies)]
local myChar = LocalPlayer.Character
if myChar and myChar:FindFirstChild("Torso") and target.Character and target.Character:FindFirstChild("Torso") then
local oldPos = myChar.Torso.CFrame
myChar.Torso.CFrame = CFrame.new(target.Character.Torso.Position + Vector3.new(0,1,0))
task.wait(0.2)
myChar.Torso.CFrame = oldPos
notify("System","Random player attacked.")
end

end



HomerTab.AddButton(" ritual falso (Usar o Homer)", function()

notify("System", "preparando tudo!!", 1)

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local TextChatService = game:GetService("TextChatService")
local LocalPlayer = Players.LocalPlayer

local function sendChatMessage(message)
    local canal = TextChatService:FindFirstChildOfClass("TextChannel")
    if canal then
        canal:SendAsync(message)
    end
end

local char = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
local hrp = char:WaitForChild("HumanoidRootPart")

local platform = Instance.new("Part")
platform.Size = Vector3.new(6, 0.5, 6)
platform.Anchored = true
platform.CanCollide = true
platform.Color = Color3.fromRGB(255, 255, 0)
platform.Material = Enum.Material.Neon
platform.Name = "RitualPlatform"
platform.Parent = workspace
platform.CFrame = hrp.CFrame * CFrame.new(0, -3.5, 0)

local rotationSpeed = 0.5
local conn
conn = RunService.Heartbeat:Connect(function()
    if hrp and platform then
        platform.CFrame = platform.CFrame * CFrame.Angles(0, math.rad(rotationSpeed), 0)
        hrp.CFrame = CFrame.new(platform.Position.X, hrp.Position.Y, platform.Position.Z) * CFrame.Angles(0, hrp.Orientation.Y, 0)
    end
end)

sendChatMessage("Dœmër.")
task.wait(1)
sendChatMessage("D0rmer.")

for i = 1, 80 do
    platform.CFrame = platform.CFrame + Vector3.new(0, 0.1, 0)
    task.wait(0.03)
end

rotationSpeed = 10
task.wait(4)

if conn then conn:Disconnect() end
if platform then platform:Destroy() end
LocalPlayer.Character:BreakJoints()

end)



-- script create BY ghost

HomerTab.AddToggle("X Ray / visao Raio x", false, function(state)
    task.spawn(function()
        local lpChar = game.Players.LocalPlayer.Character
        local parts = workspace:GetDescendants()

        if state then
            for i = 1, #parts do
                local obj = parts[i]
                if obj:IsA("BasePart") and not obj:IsDescendantOf(lpChar) then
                    obj.LocalTransparencyModifier = 0.7
                end
            end
        else
            for i = 1, #parts do
                local obj = parts[i]
                if obj:IsA("BasePart") and not obj:IsDescendantOf(lpChar) then
                    obj.LocalTransparencyModifier = 0
                end
            end
        end
    end)
end)

HomerTab.AddSection(" Ataque")



local Players = game:GetService("Players")
local PathfindingService = game:GetService("PathfindingService")
local RunService = game:GetService("RunService")

local LocalPlayer = Players.LocalPlayer
local Character, Humanoid, Root

local autoFollow = false
local currentTarget = nil
local currentPath = nil
local waypoints = {}
local currentWaypoint = 1

-- Atualiza personagem
local function updateCharacter()
	Character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
	Humanoid = Character:WaitForChild("Humanoid")
	Root = Character:WaitForChild("HumanoidRootPart")
end
updateCharacter()
LocalPlayer.CharacterAdded:Connect(updateCharacter)

-- Cria ponto visual (debug)
local function createPoint(pos)
	local p = Instance.new("Part")
	p.Size = Vector3.new(0.3, 0.3, 0.3)
	p.Anchored = true
	p.Material = Enum.Material.Neon
	p.Color = Color3.fromRGB(255, 255, 0)
	p.CanCollide = false
	p.Position = pos + Vector3.new(0, 2, 0)
	p.Parent = workspace
	game.Debris:AddItem(p, 1)
end

-- Encontra o jogador Bart mais próximo
local function getClosestBart()
	local nearest, shortest = nil, math.huge
	for _, plr in ipairs(Players:GetPlayers()) do
		if plr ~= LocalPlayer and plr.Team and plr.Team.Name == "Bart" then
			local char = plr.Character
			local root = char and char:FindFirstChild("HumanoidRootPart")
			if root then
				local dist = (root.Position - Root.Position).Magnitude
				if dist < shortest then
					shortest = dist
					nearest = plr
				end
			end
		end
	end
	return nearest
end

-- Gera um novo caminho
local function generatePath(targetRoot)
	local path = PathfindingService:CreatePath({
		AgentRadius = 2,
		AgentHeight = 5,
		AgentCanJump = true,
		AgentMaxSlope = 60 -- permite escadas
	})

	path:ComputeAsync(Root.Position, targetRoot.Position)
	if path.Status == Enum.PathStatus.Success then
		waypoints = path:GetWaypoints()
		currentWaypoint = 1
		for _, w in ipairs(waypoints) do
			createPoint(w.Position)
		end
	else
		waypoints = {}
	end
end

-- Detecta se o seguidor encostou no alvo
local function touchingTarget(targetRoot)
	if not Root or not targetRoot then return false end
	return (Root.Position - targetRoot.Position).Magnitude < 4
end

-- Movimento contínuo
RunService.Heartbeat:Connect(function()
	if not autoFollow or not Root or not Humanoid then return end

	if not currentTarget or not currentTarget.Team or currentTarget.Team.Name ~= "Bart" or not currentTarget.Character or not currentTarget.Character:FindFirstChild("HumanoidRootPart") then
		currentTarget = getClosestBart()
		if currentTarget and currentTarget.Character then
			generatePath(currentTarget.Character:FindFirstChild("HumanoidRootPart"))
		end
		return
	end

	local targetRoot = currentTarget.Character:FindFirstChild("HumanoidRootPart")
	if not targetRoot then return end

	-- Se encostou no alvo, troca
	if touchingTarget(targetRoot) then
		currentTarget = getClosestBart()
		if currentTarget and currentTarget.Character then
			generatePath(currentTarget.Character:FindFirstChild("HumanoidRootPart"))
		end
		return
	end

	-- Segue os waypoints continuamente
	if waypoints[currentWaypoint] then
		local wp = waypoints[currentWaypoint]
		Humanoid:MoveTo(wp.Position)
		if (Root.Position - wp.Position).Magnitude < 3 then
			if wp.Action == Enum.PathWaypointAction.Jump then
				Humanoid.Jump = true
			end
			currentWaypoint += 1
		end
	else
		-- Recalcula caminho quando chega ao fim
		generatePath(targetRoot)
	end
end)

-- Toggle do Hub
HomerTab.AddToggle("auto achar barts (BETA)", false, function(v)
	autoFollow = v
	currentTarget = nil
	currentPath = nil
	waypoints = {}
end)


HomerTab.AddButton("mata todos", killAll)

HomerTab.AddButton("mata aleatorio", killRandom)

HomerTab.AddToggle(" mata automatico", false, function(val)
autoKill = val
if val then autoKillLoop() end
end)



local BartTab = createTab("Bart")

BartTab.AddSection("localplayer")

BartTab.AddToggle("Bang", false, function(state)
	local Players = game:GetService("Players")
	local speaker = Players.LocalPlayer

	if not speaker.Character then return end
	local humanoid = speaker.Character:FindFirstChildOfClass("Humanoid")
	if not humanoid then return end

	if state then
		-- Ativar animação R6
		if bang then bang:Stop() end
		if bangAnim then bangAnim:Destroy() end

		bangAnim = Instance.new("Animation")
		bangAnim.AnimationId = "rbxassetid://148840371" -- animação R6 padrão

		bang = humanoid:LoadAnimation(bangAnim)
		bang.Looped = true
		bang:Play(0.1, 1, 1)
		bang:AdjustSpeed(3)
	else
		-- Desativar animação
		if bang then bang:Stop() bang = nil end
		if bangAnim then bangAnim:Destroy() bangAnim = nil end
	end
end)




BartTab.AddButton("pegar TP Tool", function()

notify("system", "bypass....")
wait(1)
notify("Sucesse", ".de uma olhada no inventario")

if tptoolEquipped then return end
tptoolEquipped = true

local tool = Instance.new("Tool")
tool.Name = "ferramenta teleport"
tool.RequiresHandle = false
tool.Parent = LocalPlayer.Backpack

tool.Activated:Connect(function()
	local mouse = LocalPlayer:GetMouse()
	local char = LocalPlayer.Character
	if char and char:FindFirstChild("HumanoidRootPart") and mouse.Hit then
		char.HumanoidRootPart.CFrame = CFrame.new(mouse.Hit.Position + Vector3.new(0, 2, 0))
	end
end)

end)

local UserInputService = game:GetService("UserInputService")
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

local infinityJump = false

BartTab.AddToggle("pulo infinito", false, function(val)
infinityJump = val
end)

UserInputService.JumpRequest:Connect(function()
if infinityJump and LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
local hrp = LocalPlayer.Character.HumanoidRootPart
local part = Instance.new("Part")
part.Size = Vector3.new(6, 0.2, 6)
part.Anchored = true
part.CanCollide = true
part.CFrame = hrp.CFrame - Vector3.new(0, 3, 0)
part.Transparency = 1
part.Parent = workspace
task.delay(0.1, function()
if part then part:Destroy() end
end)
end
end)

local Lighting = game:GetService("Lighting")
local active = false
local originalSettings = nil -- Variável para guardar o estado original do mapa

BartTab.AddToggle("fullbright / brilho", false, function(state)
    active = state

    if active then
        -- Só salva as configurações se for a primeira vez que liga
        if not originalSettings then
            originalSettings = {
                Brightness = Lighting.Brightness,
                ClockTime = Lighting.ClockTime,
                FogEnd = Lighting.FogEnd,
                GlobalShadows = Lighting.GlobalShadows,
                OutdoorAmbient = Lighting.OutdoorAmbient
            }
        end

        task.spawn(function()
            while active do
                pcall(function()
                    Lighting.Brightness = 2
                    Lighting.ClockTime = 14
                    Lighting.FogEnd = 1e6
                    Lighting.GlobalShadows = false
                    Lighting.OutdoorAmbient = Color3.new(1, 1, 1)
                end)
                task.wait(0.5)
            end
        end)
    else
        -- Restaura os valores originais quando desativado
        if originalSettings then
            pcall(function()
                Lighting.Brightness = originalSettings.Brightness
                Lighting.ClockTime = originalSettings.ClockTime
                Lighting.FogEnd = originalSettings.FogEnd
                Lighting.GlobalShadows = originalSettings.GlobalShadows
                Lighting.OutdoorAmbient = originalSettings.OutdoorAmbient
            end)
        end
    end
end)

BartTab.AddToggle("Wallhop flick Jump legit", false, function(state)
    local Players = game:GetService("Players")
    local Player = Players.LocalPlayer
    local cam = workspace.CurrentCamera
    local RunService = game:GetService("RunService")

    if not state then
        if Player.Character then
            Player.Character:SetAttribute("WallhopActive", false)
        end
        cam.CameraType = Enum.CameraType.Custom
        return
    end

    local function setup(char)
        if not state then return end
        char:SetAttribute("WallhopActive", true)

        local humanoid = char:WaitForChild("Humanoid")
        local jumping = false
        local originalCam

        RunService.Heartbeat:Connect(function()
            if not char:GetAttribute("WallhopActive") then return end

            if humanoid.Jump and not jumping then
                jumping = true
                originalCam = cam.CFrame
                cam.CameraType = Enum.CameraType.Scriptable
                cam.CFrame = originalCam * CFrame.Angles(0, math.rad(30), 0)
            elseif not humanoid.Jump and jumping then
                jumping = false
                if originalCam then
                    cam.CameraType = Enum.CameraType.Custom
                    cam.CFrame = originalCam
                    originalCam = nil
                end
            end
        end)
    end

    if Player.Character then
        setup(Player.Character)
    end

    -- não reativa sozinho após morrer
    Player.CharacterAdded:Connect(function(char)
        if Player.Character and Player.Character:FindFirstChild("Humanoid") then
            char:SetAttribute("WallhopActive", false)
        end
    end)
end)

BartTab.AddButton("flick legit Button", function()

local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")

local Player = Players.LocalPlayer
local PlayerGui = Player:WaitForChild("PlayerGui")
local Camera = workspace.CurrentCamera

-- GUI
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "FlickGui"
ScreenGui.ResetOnSpawn = false
ScreenGui.Parent = PlayerGui

-- Botão Flick estilizado
local Button = Instance.new("TextButton")
Button.Name = "FlickButton"
Button.Size = UDim2.new(0, 120, 0, 45)
Button.Position = UDim2.new(0.5, -60, 0.8, 0)
Button.BackgroundColor3 = Color3.fromRGB(200, 50, 50)
Button.BorderSizePixel = 0
Button.Text = "FLICK"
Button.TextColor3 = Color3.fromRGB(255, 255, 255)
Button.Font = Enum.Font.GothamBold
Button.TextSize = 22
Button.AutoButtonColor = false
Button.Parent = ScreenGui

-- Efeito hover visual
Button.MouseEnter:Connect(function()
	Button.BackgroundColor3 = Color3.fromRGB(255, 70, 70)
end)
Button.MouseLeave:Connect(function()
	Button.BackgroundColor3 = Color3.fromRGB(200, 50, 50)
end)

-- Bordas arredondadas
local UICorner = Instance.new("UICorner")
UICorner.CornerRadius = UDim.new(0, 10)
UICorner.Parent = Button

-- Sombra
local UIStroke = Instance.new("UIStroke")
UIStroke.Thickness = 0.5
UIStroke.Color = Color3.fromRGB(255, 255, 255)
UIStroke.Parent = Button

-- Arrastar
local dragging, dragInput, dragStart, startPos
Button.InputBegan:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
		dragging = true
		dragStart = input.Position
		startPos = Button.Position
		input.Changed:Connect(function()
			if input.UserInputState == Enum.UserInputState.End then
				dragging = false
			end
		end)
	end
end)

Button.InputChanged:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
		dragInput = input
	end
end)

UserInputService.InputChanged:Connect(function(input)
	if input == dragInput and dragging then
		local delta = input.Position - dragStart
		Button.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
	end
end)

-- Flick leve
Button.MouseButton1Click:Connect(function()
	local hrp = Player.Character and Player.Character:FindFirstChild("HumanoidRootPart")
	if not hrp then return end
	
	local cam = workspace.CurrentCamera
	local original = cam.CFrame

	cam.CameraType = Enum.CameraType.Scriptable
	cam.CFrame = original * CFrame.Angles(0, math.rad(30), 0)
	task.wait(0.02)
	cam.CFrame = original
	cam.CameraType = Enum.CameraType.Custom
end)

end)

BartTab.AddButton("area Segura / Safe Zone", function()
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(12, 104, -10)
end
end)

BartTab.AddToggle("flutuar", false, function(state)
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local LocalPlayer = Players.LocalPlayer

local floatEnabled = state
local floatPart
local floatConnection

if floatEnabled then
    local char = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
    local hrp = char:WaitForChild("HumanoidRootPart")

    floatPart = Instance.new("Part")
    floatPart.Size = Vector3.new(6, 1, 6)
    floatPart.Anchored = true
    floatPart.CanCollide = true
    floatPart.Transparency = 0.5
    floatPart.Color = Color3.fromRGB(0, 170, 255)
    floatPart.Name = "FloatPart"
    floatPart.Parent = workspace

    floatConnection = RunService.Heartbeat:Connect(function()
        if char and hrp and floatPart then
            floatPart.CFrame = hrp.CFrame * CFrame.new(0, -3.5, 0)
        end
    end)
else
    if floatConnection then
        floatConnection:Disconnect()
    end
    for _, v in pairs(workspace:GetChildren()) do
        if v.Name == "FloatPart" then
            v:Destroy()
        end
    end
end

end)

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local LocalPlayer = Players.LocalPlayer

local spinning = false
local spinConnection
local rotation = 0

BartTab.AddToggle("Spin Bot", false, function(state)
spinning = state

if spinning then
	spinConnection = RunService.Heartbeat:Connect(function()
		local char = LocalPlayer.Character
		if not char or not char:FindFirstChild("Torso") then return end

		local torso = char.Torso
		rotation = (rotation + 8) % 360
		torso.CFrame = torso.CFrame * CFrame.Angles(0, math.rad(8), 0)
	end)
else
	if spinConnection then
		spinConnection:Disconnect()
		spinConnection = nil
	end
end

end)



BartTab.AddSection("Trolagems")

local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local spamming = false

BartTab.AddToggle("Spam Equip Lantern", false, function(state)
	spamming = state

	if spamming then
		task.spawn(function()
			while spamming do
				local backpack = LocalPlayer:FindFirstChild("Backpack")
				local char = LocalPlayer.Character
				if backpack and char then
					local lantern = backpack:FindFirstChild("Flashlight") or char:FindFirstChild("Lantern")
					if lantern then
						if lantern.Parent == backpack then
							char.Humanoid:EquipTool(lantern)
						else
							char.Humanoid:UnequipTools()
						end
					end
				end
				task.wait(0.01)
			end
		end)
	end
end)

BartTab.AddButton("Ativar todas as máquinas", function()

    local Players = game:GetService("Players")
    local LocalPlayer = Players.LocalPlayer
    local char = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
    local hrp = char:WaitForChild("HumanoidRootPart")

    -- Salva a posição original
    local originalCFrame = hrp.CFrame

    -- Pasta onde estão as máquinas
    local slotFolder = workspace:WaitForChild("lobby"):WaitForChild("Fun")
    local slotMachines = {}

    -- Coleta todas as máquinas com alavanca clicável
    for _, obj in ipairs(slotFolder:GetChildren()) do
        local lever = obj:FindFirstChild("lever")
        if lever and lever:FindFirstChild("handle") and lever.handle:FindFirstChild("ClickDetector") then
            table.insert(slotMachines, lever.handle)
        end
    end

    -- Ativa cada máquina
    for _, handle in ipairs(slotMachines) do
        if handle:FindFirstChild("ClickDetector") then
            hrp.CFrame = handle.CFrame + Vector3.new(0, 3, 0)
            task.wait(0.15)
            fireclickdetector(handle.ClickDetector)
            task.wait(0.15)
        end
    end

    -- Retorna à posição original
    hrp.CFrame = originalCFrame

end)

BartTab.AddButton("Open All Doors Bart Spaceship", function()
    local Players = game:GetService("Players")
    local LocalPlayer = Players.LocalPlayer
    local Character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
    local HRP = Character:WaitForChild("HumanoidRootPart")

    local map = workspace:FindFirstChild("map")
    local spaceship = map and (map:FindFirstChild("Bart Spaceship") or map:FindFirstChild("Spaceship"))
    if not spaceship then
        notify("System", "Spaceship not found, wait for the map.", 4)
        return
    end

    local doors = {}
    for _, obj in ipairs(spaceship:GetDescendants()) do
        if obj:IsA("BasePart") then
            local name = string.lower(obj.Name)
            if name:find("door") or name:find("bartdoor") then
                table.insert(doors, obj)
            end
        end
    end

    if #doors == 0 then
        notify("System", "No doors found in Bart Spaceship.", 4)
        return
    end

    local originalCFrame = HRP.CFrame
    notify("System", "Opening " .. #doors .. " doors from Bart Spaceship...", 5)

    for _, door in ipairs(doors) do
        if door and door:IsDescendantOf(workspace) then
            HRP.CFrame = door.CFrame + door.CFrame.LookVector * -2
            task.wait(0.03)
            HRP.CFrame = door.CFrame + door.CFrame.LookVector * 2

            local touch = door:FindFirstChildOfClass("TouchTransmitter") or door:FindFirstChild("TouchInterest")
            if touch then
                firetouchinterest(HRP, door, 0)
                task.wait()
                firetouchinterest(HRP, door, 1)
            end
        end
    end

    HRP.CFrame = originalCFrame
    notify("System", "All doors interacted successfully.", 5)
end)

BartTab.AddButton("Delete All Doors From Bart Spaceship", function()
    local map = workspace:FindFirstChild("map")
    local spaceship = map and (map:FindFirstChild("Bart Spaceship") or map:FindFirstChild("Spaceship"))
    if not spaceship then
        notify("System", "Spaceship not found, wait for the map.", 4)
        return
    end

    local deleted = 0
    for _, obj in ipairs(spaceship:GetDescendants()) do
        if obj:IsA("BasePart") or obj:IsA("Model") then
            local name = string.lower(obj.Name)
            if name:find("door") or name:find("bartdoor") then
                obj:Destroy()
                deleted += 1
            end
        end
    end

    notify("System", "Deleted " .. deleted .. " doors / bartdoors from Bart Spaceship.", 5)
end)

local FarmTab = createTab("Farm")

FarmTab.AddSection("Farming V2")

FarmTab.AddToggle("Automatic TP matar | Homer", false, function(val)
autoKill = val
if val then autoKillLoop() end
end)


FarmTab.AddButton("Finish the Obby ", function()
	local Players = game:GetService("Players")
	local Player = Players.LocalPlayer
	local Character = Player.Character or Player.CharacterAdded:Wait()
	local HRP = Character:WaitForChild("HumanoidRootPart")

	local function findWinpad()
		for _, obj in pairs(workspace:GetDescendants()) do
			if obj.Name == "Winpad" and obj:IsA("BasePart") then
				return obj
			end
		end
	end

	local Winpad = findWinpad()
	if Winpad then
		HRP.CFrame = Winpad.CFrame + Vector3.new(0, 3, 0)
		firetouchinterest(HRP, Winpad, 0)
		task.wait(0.2)
		firetouchinterest(HRP, Winpad, 1)
	end
end)

--== Sistema de Auto Farm ==--
local Players = game:GetService("Players")
local Player = Players.LocalPlayer
local autoTp = false

local function findWinpad()
	for _, obj in pairs(workspace:GetDescendants()) do
		if obj.Name == "Winpad" and obj:IsA("BasePart") then
			return obj
		end
	end
end

local function autoTpLoop()
	task.spawn(function()
		while autoTp do
			local Character = Player.Character or Player.CharacterAdded:Wait()
			local HRP = Character:WaitForChild("HumanoidRootPart")
			local Winpad = findWinpad()

			if Winpad then
				HRP.CFrame = Winpad.CFrame + Vector3.new(0, 3, 0)
				firetouchinterest(HRP, Winpad, 0)
				task.wait(0.2)
				firetouchinterest(HRP, Winpad, 1)
			end

			task.wait(5)
		end
	end)
end

FarmTab.AddToggle("Auto Farm | Obby ", false, function(val)
	autoTp = val
	if val then
		autoTpLoop()
	end
end)

local TpTab = createTab("tps")

TpTab.AddButton("tp map", function()
local pl = game.Players.LocalPlayer
if pl.Character and pl.Character:FindFirstChild("HumanoidRootPart") then
	pl.Character:MoveTo(Vector3.new(5, -6, -108))
end
end)

TpTab.AddButton("tp 2", function()
local pl = game.Players.LocalPlayer
if pl.Character and pl.Character:FindFirstChild("HumanoidRootPart") then
	pl.Character:MoveTo(Vector3.new(0, 117, 83))
end
end)

TpTab.AddButton("tp 3", function()
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(12, 104, -10)
end
end)


TpTab.AddSection("teleport save")

local savedPosition = nil
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

function salvarPosicao()
	local char = LocalPlayer.Character
	if char and char:FindFirstChild("HumanoidRootPart") then
		savedPosition = char.HumanoidRootPart.Position
		notify("System", "saved", 1)
		print("Posição salva:", savedPosition)
	end
end

function tpPosicaoSalva()
	if savedPosition and LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
		LocalPlayer.Character:MoveTo(savedPosition)
		notify("System", "teleportado", 1)
	else
		print("Nenhuma posição salva ou personagem inválido.")
	end
end

TpTab.AddButton("Salvar posição", salvarPosicao)
TpTab.AddButton("Teleportar para posição salva", tpPosicaoSalva)

TpTab.AddSection("spoots")

TpTab.AddButton("Tp to an Bart", function()
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local character = LocalPlayer.Character
if not character or not character:FindFirstChild("Torso") then return end

for _, player in ipairs(Players:GetPlayers()) do
    if player ~= LocalPlayer and player.Team and player.Team.Name == "Bart" then
        local name = string.lower(player.Name)
        if name ~= "packj0" and name ~= "kit_cynalt" and name ~= "bk_faxbr" then
            local targetChar = player.Character
            if targetChar and targetChar:FindFirstChild("Torso") then
                local targetPos = targetChar.Torso.CFrame * CFrame.new(0, 0, 3)
                character.Torso.CFrame = targetPos
                break
            end
        end
    end
end

end)

TpTab.AddButton("Tp to an Homer", function()
    local Players = game:GetService("Players")
    local LocalPlayer = Players.LocalPlayer
    local character = LocalPlayer.Character
    if not character or not character:FindFirstChild("Torso") then return end

    for _, player in ipairs(Players:GetPlayers()) do
        if player ~= LocalPlayer and player.Team and player.Team.Name == "Homer" then
            local targetChar = player.Character
            if targetChar and targetChar:FindFirstChild("Torso") then
                local targetPos = targetChar.Torso.CFrame * CFrame.new(0, 0, 3)
                character.Torso.CFrame = targetPos
                break
            end
        end
    end
end)

TpTab.AddButton("esconderijo Simpsons", function()
local pl = game.Players.LocalPlayer
if pl.Character and pl.Character:FindFirstChild("HumanoidRootPart") then
	pl.Character:MoveTo(Vector3.new(47, -60, -97))
end
end)

TpTab.AddButton("esconderijo 2 Simpsons", function()
local pl = game.Players.LocalPlayer
if pl.Character and pl.Character:FindFirstChild("HumanoidRootPart") then
	pl.Character:MoveTo(Vector3.new(73, -80, -1))
end
end)

TpTab.AddButton("esconderijo island bar", function()
local pl = game.Players.LocalPlayer
if pl.Character and pl.Character:FindFirstChild("HumanoidRootPart") then
	pl.Character:MoveTo(Vector3.new(-48, -114, -42))
end
end)

TpTab.AddButton("esconderijo 2 Island bar", function()
local pl = game.Players.LocalPlayer
if pl.Character and pl.Character:FindFirstChild("HumanoidRootPart") then
	pl.Character:MoveTo(Vector3.new(54, -55, -57))
end
end)





local ScriptTab = createTab("Script")
 
ScriptTab.AddSection("Alguns dos Scripts n pod funcionar ")



ScriptTab.AddButton("wall Hop Hub ", function()


wait(0.1)
loadstring(game:HttpGet("https://rawscripts.net/raw/Universal-Script-Wallhop-Hub-81098"))()

end)


ScriptTab.AddButton("ALL Skins  Hub onionware", function()

loadstring(game:HttpGet("https://rawscripts.net/raw/UPD-You-VS-Homer-Onionware-84957"))()

end)

ScriptTab.AddButton("bartender bom script", function()

loadstring(game:HttpGet("https://rawscripts.net/raw/You-VS-Homer-Bartender-78034"))()

end)

ScriptTab.AddButton("Destroy THE SERVER", function()

loadstring(game:HttpGet("https://rawscripts.net/raw/Universal-Script-Super-ring-parts-Modified-105975"))()

end)

local sugestaoTab = createTab("sugestions")



sugestaoTab.AddButton("carregar sugestões ", function()

loadstring(game:HttpGet("https://raw.githubusercontent.com/Cat558-uz/Ed-Sugestion/refs/heads/main/sugestao.lua.obfuscated.lua.txt"))()

end)

sugestaoTab.AddSection("aviso ")

sugestaoTab.AddSection("n coloco ideias que n der ")

sugestaoTab.AddSection("como Admin ou fly  ")

sugestaoTab.AddSection("novo ant cheat n deixa ")

